<!DOCTYPE html>
<html>
  <head>
    <title>Force Refresh QuickLedger</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        text-align: center;
      }
      .button {
        background: #3b82f6;
        color: white;
        padding: 15px 30px;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        margin: 10px;
      }
      .button:hover {
        background: #2563eb;
      }
      .info {
        background: #f0f9ff;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <h1>ðŸ”„ QuickLedger Frontend Refresh</h1>

    <div class="info">
      <h3>The frontend has been updated with category fixes!</h3>
      <p>If you're not seeing the changes, try these steps:</p>
    </div>

    <div>
      <button class="button" onclick="openQuickLedger()">
        ðŸš€ Open QuickLedger (New Tab)
      </button>

      <button class="button" onclick="clearCacheAndOpen()">
        ðŸ§¹ Clear Cache & Open
      </button>

      <button class="button" onclick="showInstructions()">
        ðŸ“‹ Manual Refresh Instructions
      </button>
    </div>

    <div
      id="instructions"
      style="
        display: none;
        margin-top: 20px;
        text-align: left;
        background: #f9fafb;
        padding: 20px;
        border-radius: 5px;
      "
    >
      <h3>Manual Browser Refresh Steps:</h3>
      <ol>
        <li>
          <strong>Hard Refresh:</strong> Press
          <code>Ctrl+F5</code> (Windows/Linux) or <code>Cmd+Shift+R</code> (Mac)
        </li>
        <li>
          <strong>Clear Cache:</strong> Press <code>F12</code> â†’ Network tab â†’
          Check "Disable cache"
        </li>
        <li>
          <strong>Incognito Mode:</strong> Open QuickLedger in a
          private/incognito window
        </li>
        <li>
          <strong>Developer Tools:</strong> Right-click â†’ Inspect â†’ Application
          tab â†’ Clear Storage
        </li>
      </ol>

      <h3>What's Fixed:</h3>
      <ul>
        <li>âœ… Categories like "Food", "food", "FOOD" now merge into one</li>
        <li>âœ… Consistent capitalization throughout the UI</li>
        <li>âœ… Category information shown with each expense</li>
        <li>âœ… Charts properly consolidate case-insensitive categories</li>
      </ul>
    </div>

    <script>
      function openQuickLedger() {
        // Add timestamp to force fresh load
        const url = "http://localhost:3000?" + Date.now();
        window.open(url, "_blank");
      }

      function clearCacheAndOpen() {
        // Clear localStorage and sessionStorage
        localStorage.clear();
        sessionStorage.clear();

        // Open with cache-busting parameter
        const url = "http://localhost:3000?v=" + Date.now() + "&nocache=true";
        window.open(url, "_blank");

        alert("Cache cleared! Opening fresh QuickLedger...");
      }

      function showInstructions() {
        const instructions = document.getElementById("instructions");
        instructions.style.display =
          instructions.style.display === "none" ? "block" : "none";
      }

      // Auto-open QuickLedger after 3 seconds
      setTimeout(() => {
        if (confirm("Auto-open QuickLedger with fresh cache?")) {
          clearCacheAndOpen();
        }
      }, 3000);
    </script>
  </body>
</html>
